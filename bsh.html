<!DOCTYPE html>
<html>
  <head>
    <title>Gezeiten BSH Configuration</title>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
  </head>
  <body onload="loadLocalStorage()">
    <h1>Gezeiten BSH Configuration</h1>

    <h2>ORT</h2>
    <div>
      <fieldset data-role="controlgroup">
      <input type="radio" name="typeLocation" id="typeLocation0" value="0"/>
      <label for="typeLocation0">Off</label>
      </fieldset>
    </div>
 
    <h2>Zeitangabe</h2>
    <div>
      <fieldset data-role="controlgroup">
      <input type="radio" name="typeTmzone" id="typeTmzone0" value="0"/>
      <label for="typeTmzone0">&nbsp;Hide lights&nbsp;</label>
      </fieldset>
    </div>

    <h2>Bezugsniveau</h2>
    <div>
      <fieldset data-role="controlgroup">
      <input type="radio" name="typeNiveau" id="typeNiveau0" value="0"/>
      <label for="typeNiveau0">&nbsp;Hide lights&nbsp;</label>
      </fieldset>
    </div>
  
    <div class="ui-body ui-body-b">
      <fieldset class="ui-grid-a">
        <div class="ui-block-a"><button type="submit" data-theme="d" id="cncl_button">Cancel</button></div>
        <div class="ui-block-b"><button type="submit" data-theme="a" id="save_button">Submit</button></div>
      </fieldset>
    </div>

    <script>
    function loadLocalStorage() {
      var hostValue = document.getElementById("host");
      locationValue.value = localStorage.getItem("BSH#location");
      if (locationValue !== null) {
        $("input[value=\""+locationValue+"\"]").click();
        $("input[name='typeLocation']").checkboxradio("refresh");
      }
      
      var tmzoneValue = localStorage.getItem("BSH#tmzone");
      if (tmzoneValue !== null) {
        $("input[value=\""+tmzoneValue+"\"]").click();
        $("input[name='typeTmzone']").checkboxradio("refresh");
      }
      
      var niveauValue = localStorage.getItem("BSH#niveau");
      if (niveauValue !== null) {
        $("input[value=\""+niveauValue+"\"]").click();
        $("input[name='typeNiveau']").checkboxradio("refresh");
      }
    }
    
    function getQueryParam(variable, defaultValue) {
      var query = location.search.substring(1);
      var vars = query.split('&');
      for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split('=');
        if (pair[0] === variable) {
          return decodeURIComponent(pair[1]);
        }
      }
      return defaultValue || false;
    }
    
    function saveOptions() {
      var locationValue = $("input[name='typeLocation']:checked").val();
      var tmzoneValue = $("input[name='typeTmzone']:checked").val();
      var niveauValue = $("input[name='typeNiveau']:checked").val();
      var options = {
        "location": locationValue,
        "tmzone": tmzoneValue,
        "niveau": niveauValue
      }
      localStorage.setItem("BSH#location", locationValue);
      localStorage.setItem("BSH#tmzone", tmzoneValue);
      localStorage.setItem("BSH#niveau", niveauValue);
      return options;
    };
    
    var submitButton = document.getElementById("save_button");
    submitButton.addEventListener("click", 
      function() {
        console.log("Submit");
        var return_to = getQueryParam('return_to', 'pebblejs://close#');
        var options = saveOptions();
        var location = return_to + encodeURIComponent(JSON.stringify(options));
        document.location = location;
      }, 
    false);

    var cancelButton = document.getElementById("cncl_button");
    cancelButton.addEventListener("click", 
      function() {
        console.log("Cancel");
        var location = getQueryParam('return_to', 'pebblejs://close#');
        document.location = location;
      }, 
    false);
    </script>
  </body>
</html>

<div id="box2">
<LABEL FOR="ListBox" style="display:none">Liste der Orte f&uuml;r die Gezeiten vorausberechnet werden k&ouml;nnen</LABEL>
                <SELECT ID="ListBox" NAME="ort" SIZE="10"  tabindex="109">

<OPTION VALUE="DE__734P">          Alte Weser, Leuchtturm        </OPTION>
<OPTION VALUE="DE__732A">          Altengamme                    </OPTION>
<OPTION VALUE="DE__622P">          Amrum Odde                    </OPTION>
<OPTION VALUE="DE__631P">          Amrum, Hafen (Wittd&uuml;n)        </OPTION>
<OPTION VALUE="DE__773P">          Arngast, Leuchtturm           </OPTION>
<OPTION VALUE="DE__784P">          Baltrum, Westende             </OPTION>
<OPTION VALUE="DE__816B">          Bar&szlig;el, Soeste                </OPTION>
<OPTION VALUE="DE__683P">          Belum, Oste                   </OPTION>
<OPTION VALUE="DE__782P">          Bensersiel                    </OPTION>
<OPTION VALUE="DE__715P">          Blankenese, Unterfeuer        </OPTION>
<OPTION VALUE="DE__666P">          Blauort                       </OPTION>
<OPTION VALUE="DE__750D">          Borgfeld, W&uuml;mme               </OPTION>
<OPTION VALUE="DE__101P">          Borkum, Fischerbalje          </OPTION>
<OPTION VALUE="DE__798P">          Borkum, S&uuml;dstrand             </OPTION>
<OPTION VALUE="DE__743P">          Brake                         </OPTION>
<OPTION VALUE="DE__693P">          Breitenberg, St&ouml;r             </OPTION>
<OPTION VALUE="DE__502P">          Bremen, Oslebshausen          </OPTION>
<OPTION VALUE="DE__752P">          Bremen, Weserwehr             </OPTION>
<OPTION VALUE="DE__751P">          Bremen, Wilhelm-Kaisen-Br&uuml;cke </OPTION>
<OPTION VALUE="DE__103P">          Bremerhaven, Alter Leuchtturm </OPTION>
<OPTION VALUE="DE__687P">          Bremerv&ouml;rde, Oste             </OPTION>
<OPTION VALUE="DE__688P">          Brokdorf                      </OPTION>
<OPTION VALUE="DE__504A">          Brunsb&uuml;ttel, Mole 1           </OPTION>
<OPTION VALUE="DE__729P">          Bunthaus                      </OPTION>
<OPTION VALUE="DE__745A">          Buttelerh&ouml;rne, Hunte          </OPTION>
<OPTION VALUE="DE__718P">          Buxtehude, Este               </OPTION>
<OPTION VALUE="DE__505P">          B&uuml;sum                         </OPTION>
<OPTION VALUE="DE__717P">          Cranz, Este - Sperrwerk, Au&szlig;enp</OPTION>
<OPTION VALUE="DE__506P">          Cuxhaven, Steubenh&ouml;ft         </OPTION>
<OPTION VALUE="DE__635P">          Dageb&uuml;ll                      </OPTION>
<OPTION VALUE="DE__669P">          Deichsiel                     </OPTION>
<OPTION VALUE="DE__810B">          Detern, J&uuml;mme                 </OPTION>
<OPTION VALUE="DE__783P">          Dornumer - Accumersiel        </OPTION>
<OPTION VALUE="DE__727P">          Dove - Elbe, Einfahrt         </OPTION>
<OPTION VALUE="DE__812P">          Dreyschloot, Leda             </OPTION>
<OPTION VALUE="DE__799G">          Dukegat                       </OPTION>
<OPTION VALUE="DE__737P">          Dwarsgat, Unterfeuer          </OPTION>
<OPTION VALUE="DE__664P">          Eidersperrwerk, Au&szlig;enpegel    </OPTION>
<OPTION VALUE="DE__702P">          Elmshorn, Kr&uuml;ckau             </OPTION>
<OPTION VALUE="DE__744A">          Elsfleth Ohrt                 </OPTION>
<OPTION VALUE="DE__744P">          Elsfleth                      </OPTION>
<OPTION VALUE="DE__507P">          Emden, Gro&szlig;e Seeschleuse      </OPTION>
<OPTION VALUE="DE__799P">          Emsh&ouml;rn                       </OPTION>
<OPTION VALUE="DE__730C">          Fahrenholz, Ilmenau           </OPTION>
<OPTION VALUE="DE__749P">          Farge                         </OPTION>
<OPTION VALUE="DE__738P">          Fedderwardersiel              </OPTION>
<OPTION VALUE="DE__675P">          Friedrichskoog, Hafen         </OPTION>
<OPTION VALUE="DE__671D">          Friedrichskoog, Spitze        </OPTION>
<OPTION VALUE="DE__662E">          Friedrichstadt, Eider         </OPTION>
<OPTION VALUE="DE__632P">          F&ouml;hr, Wyk                     </OPTION>
<OPTION VALUE="DE__629B">          F&ouml;hrer Ley Nord               </OPTION>
<OPTION VALUE="DE__732D">          Geesthacht, Wehr UP           </OPTION>
<OPTION VALUE="DE__695P">          Gl&uuml;ckstadt                    </OPTION>
<OPTION VALUE="DE__703P">          Grauerort                     </OPTION>
<OPTION VALUE="DE__637P">          Gr&ouml;de, Anleger                </OPTION>
<OPTION VALUE="DE__508P" SELECTED>          Hamburg, St. Pauli            </OPTION>
<OPTION VALUE="DE__724P">          Harburg, Schleuse             </OPTION>
<OPTION VALUE="DE__778P">          Harlesiel                     </OPTION>
<OPTION VALUE="DE__685P">          Hechthausen, Oste             </OPTION>
<OPTION VALUE="DE__509A">          Helgoland, Binnenhafen        </OPTION>
<OPTION VALUE="DE__816P">          Herbrum, Hafendamm, Ems       </OPTION>
<OPTION VALUE="DE__711P">          Hetlingen                     </OPTION>
<OPTION VALUE="DE__613C">          Hojer, Schleuse               </OPTION>
<OPTION VALUE="DE__746P">          Hollersiel, Hunte             </OPTION>
<OPTION VALUE="DE__649B">          Holmer Siel                   </OPTION>
<OPTION VALUE="DE__636F">          Hooge, Anleger                </OPTION>
<OPTION VALUE="DE__765P">          Hooksiel                      </OPTION>
<OPTION VALUE="DE__764B">          Hooksielplate                 </OPTION>
<OPTION VALUE="DE__745P">          Huntebr&uuml;ck, Hunte             </OPTION>
<OPTION VALUE="DE__510P">          Husum                         </OPTION>
<OPTION VALUE="DE__624P">          H&ouml;rnum, Hafen                 </OPTION>
<OPTION VALUE="DE__624A">          H&ouml;rnum, West                  </OPTION>
<OPTION VALUE="DE__730A">          Ilmenau - Sperrwerk, Au&szlig;enpegel</OPTION>
<OPTION VALUE="DE__692P">          Itzehoe, St&ouml;r                 </OPTION>
<OPTION VALUE="DE__794P">          Juist, Hafen                  </OPTION>
<OPTION VALUE="DE__620K">          Kampen, West                  </OPTION>
<OPTION VALUE="DE__691R">          Kasenort, St&ouml;r                </OPTION>
<OPTION VALUE="DE__802P">          Knock                         </OPTION>
<OPTION VALUE="DE__698P">          Kollmar (Kamperreihe)         </OPTION>
<OPTION VALUE="DE__697P">          Krautsand                     </OPTION>
<OPTION VALUE="DE__700R">          Kr&uuml;ckau - Sperrwerk, Binnenpege</OPTION>
<OPTION VALUE="DE__632D">          Langeness Hilligenley         </OPTION>
<OPTION VALUE="DE__781P">          Langeoog                      </OPTION>
<OPTION VALUE="DE__808A">          Leda - Sperrwerk, Unterpegel  </OPTION>
<OPTION VALUE="DE__808P">          Leer, Schleuse, Leda          </OPTION>
<OPTION VALUE="DE__806P">          Leerort, Ems                  </OPTION>
<OPTION VALUE="DE__796C">          Leybucht, Leyh&ouml;rn             </OPTION>
<OPTION VALUE="DE__658B">          Linnenplate                   </OPTION>
<OPTION VALUE="DE__616P">          List West                     </OPTION>
<OPTION VALUE="DE__617P">          List                          </OPTION>
<OPTION VALUE="DE__712P">          L&uuml;hort, L&uuml;he                  </OPTION>
<OPTION VALUE="DE__667B">          Meldorf - Sperrwerk, Au&szlig;enpegel</OPTION>
<OPTION VALUE="DE__760P">          Mellumplate, Leuchtturm       </OPTION>
<OPTION VALUE="DE__795B">          Memmert                       </OPTION>
<OPTION VALUE="DE__675C">          Mittelplate                   </OPTION>
<OPTION VALUE="DE__618P">          Munkmarsch                    </OPTION>
<OPTION VALUE="DE__681A">          Neufeld, Hafen                </OPTION>
<OPTION VALUE="DE__780P">          Neuharlingersiel              </OPTION>
<OPTION VALUE="DE__678W">          Neuwerk                       </OPTION>
<OPTION VALUE="DE__785P">          Ne&szlig;mersiel                    </OPTION>
<OPTION VALUE="DE__750C">          Niederblockland, W&uuml;mme        </OPTION>
<OPTION VALUE="DE__790A">          Norddeich, Westerriede        </OPTION>
<OPTION VALUE="DE__741A">          Nordenham, Unterfeuer         </OPTION>
<OPTION VALUE="DE__111P">          Norderney, Riffgat            </OPTION>
<OPTION VALUE="DE__663E">          Nordfeld, Eider               </OPTION>
<OPTION VALUE="DE__649P">          Nordstrand, Strucklahnungsh&ouml;rn</OPTION>
<OPTION VALUE="DE__810A">          Nortmoor, Altarm J&uuml;mme        </OPTION>
<OPTION VALUE="DE__750G">          Ochtum - Sperrwerk, Oberpegel </OPTION>
<OPTION VALUE="DE__748P">          Oldenburg - Drielake, Hunte   </OPTION>
<OPTION VALUE="DE__682P">          Osteriff                      </OPTION>
<OPTION VALUE="DE__628A">          Osterley                      </OPTION>
<OPTION VALUE="DE__681P">          Otterndorf                    </OPTION>
<OPTION VALUE="DE__730P">          Over                          </OPTION>
<OPTION VALUE="DE__814P">          Papenburg, Ems                </OPTION>
<OPTION VALUE="DE__647A">          Pellworm, Anleger             </OPTION>
<OPTION VALUE="DE__642E">          Pellworm, Hoogerf&auml;hre         </OPTION>
<OPTION VALUE="DE__726A">          Peute                         </OPTION>
<OPTION VALUE="DE__704R">          Pinnau - Sperrwerk, Binnenpegel</OPTION>
<OPTION VALUE="DE__803P">          Pogum, Ems                    </OPTION>
<OPTION VALUE="DE__811P">          Potshausen, Leda              </OPTION>
<OPTION VALUE="DE__621R">          Rantum, West                  </OPTION>
<OPTION VALUE="DE__623A">          Rantumdamm                    </OPTION>
<OPTION VALUE="DE__741B">          Rechtenfleth                  </OPTION>
<OPTION VALUE="DE__747P">          Reith&ouml;rne, Hunte              </OPTION>
<OPTION VALUE="DE__814B">          Rhede, Ems                    </OPTION>
<OPTION VALUE="DE__750B">          Ritterhude, Hamme             </OPTION>
<OPTION VALUE="DE__737S">          Robbens&uuml;dsteert               </OPTION>
<OPTION VALUE="DE__642C">          Rummelloch, West              </OPTION>
<OPTION VALUE="DE__677B">          Sahlenburg                    </OPTION>
<OPTION VALUE="DE__677P">          Scharh&ouml;rn, Bake C             </OPTION>
<OPTION VALUE="DE__677C">          Scharh&ouml;rnriff, Bake A         </OPTION>
<OPTION VALUE="DE__761P">          Schillig                      </OPTION>
<OPTION VALUE="DE__638P">          Schl&uuml;ttsiel                   </OPTION>
<OPTION VALUE="DE__714P">          Schulau                       </OPTION>
<OPTION VALUE="DE__720P">          Seemannsh&ouml;ft                  </OPTION>
<OPTION VALUE="DE__735A">          Spieka Neufeld                </OPTION>
<OPTION VALUE="DE__779P">          Spiekeroog                    </OPTION>
<OPTION VALUE="DE__657P">          St. Peter - Ording, Bad       </OPTION>
<OPTION VALUE="DE__709P">          Stadersand, Schwinge          </OPTION>
<OPTION VALUE="DE__637A">          Strand, Hamburger Hallig      </OPTION>
<OPTION VALUE="DE__690R">          St&ouml;r - Sperrwerk, Binnenpegel </OPTION>
<OPTION VALUE="DE__645P">          S&uuml;deroogsand                  </OPTION>
<OPTION VALUE="DE__653P">          S&uuml;dfall, Fahrwasserkante      </OPTION>
<OPTION VALUE="DE__634P">          S&uuml;dwesth&ouml;rn                   </OPTION>
<OPTION VALUE="DE__805P">          Terborg, Me&szlig;stelle, Ems       </OPTION>
<OPTION VALUE="DE__673P">          Trischen, West                </OPTION>
<OPTION VALUE="DE__661E">          T&ouml;nning, Eider                </OPTION>
<OPTION VALUE="DE__655D">          T&uuml;mlauer Hafen                </OPTION>
<OPTION VALUE="DE__706P">          Uetersen, Pinnau              </OPTION>
<OPTION VALUE="DE__776P">          Vareler Schleuse              </OPTION>
<OPTION VALUE="DE__750P">          Vegesack                      </OPTION>
<OPTION VALUE="DE__766P">          Voslapp                       </OPTION>
<OPTION VALUE="DE__754P">          Wangerooge, Langes Riff, (Nord)</OPTION>
<OPTION VALUE="DE__756P">          Wangerooge, Ost               </OPTION>
<OPTION VALUE="DE__777P">          Wangerooge, West              </OPTION>
<OPTION VALUE="DE__763P">          Wangertief, Horumersiel       </OPTION>
<OPTION VALUE="DE__750A">          Wasserhorst, Lesum            </OPTION>
<OPTION VALUE="DE__813P">          Weener, Ems                   </OPTION>
<OPTION VALUE="DE__620P">          Westerland                    </OPTION>
<OPTION VALUE="DE__810P">          Westringaburg, Leda           </OPTION>
<OPTION VALUE="DE__512P">          Wilhelmshaven, Alter Vorhafen </OPTION>
<OPTION VALUE="DE__770P">          Wilhelmshaven, Neuer Vorhafen </OPTION>
<OPTION VALUE="DE__769P">          Wilhelmshaven, &Ouml;lpier         </OPTION>
<OPTION VALUE="DE__809P">          Wiltshausen, Leda             </OPTION>
<OPTION VALUE="DE__696P">          Wischhafen - Sperrwerk        </OPTION>
<OPTION VALUE="DE__735B">          Wremertief                    </OPTION>
<OPTION VALUE="DE__676P">          Zehnerloch                    </OPTION>
<OPTION VALUE="DE__731P">          Zollenspieker                 </OPTION>



</SELECT>
</div>
<br><br><br><br><br><br><br><br><br>
<div id="box3">
Eingabedaten OK ?<br>
<INPUT TYPE="submit" VALUE="Tabelle erzeugen" tabindex="112"><br>

</div>

<p id="both">&nbsp;</p>

<div id="box4"><br>
<LABEL FOR="ComboBox2"><STRONG>Zeitangabe</STRONG></LABEL>
       <SELECT ID="ComboBox2" NAME="zone" SIZE="1" tabindex="110">
                <OPTION selected>Gesetzliche Zeit ¹</option>
                <OPTION value="MEZ">MEZ</option>
                <OPTION>UTC</OPTION>
       </SELECT>
</div>
<div id="box5"><br>
<LABEL FOR="ComboBox1"><STRONG>Bezugsniveau</STRONG></LABEL>
       <SELECT ID="ComboBox1" NAME="niveau" SIZE="1" tabindex="111">
                <OPTION selected value="KN"> Seekartennull (SKN)</option>
                <OPTION value="PN">Pegelnullpunkt (PNP)</option>
                <OPTION value="NN">Normalh&ouml;hennull (NHN)</option>
                <OPTION value="AW">Abw. vom mittl. HW/NW</OPTION>
       </SELECT>

</div>
